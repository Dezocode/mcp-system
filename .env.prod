# Production Environment Configuration for MCP System
# Copy this file to .env.prod and configure for your production environment

# =============================================================================
# PORT CONFIGURATION - All ports are now configurable
# =============================================================================

# MCP System Ports
MCP_HTTP_PORT=8050
MCP_WEBSOCKET_PORT=8051
MCP_PIPELINE_PORT=8052
MCP_HEALTH_PORT=9000

# Database Configuration
POSTGRES_PORT=5432
POSTGRES_DB=mcpsystem
POSTGRES_USER=mcpuser

# Redis Configuration
REDIS_PORT=6379
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Web Services Ports
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# =============================================================================
# LEGACY COMPATIBILITY (For backward compatibility - use secrets instead!)
# =============================================================================
# NOTE: These are kept for compatibility but should be migrated to secrets
DB_PASSWORD=your_secure_db_password_here
POSTGRES_PASSWORD=your_secure_db_password_here
GRAFANA_PASSWORD=your_secure_grafana_password_here

# =============================================================================
# SSL/TLS Configuration
# =============================================================================
SSL_CERT_PATH=/etc/ssl/certs/mcp.crt
SSL_KEY_PATH=/etc/ssl/private/mcp.key

# =============================================================================
# MCP System Configuration
# =============================================================================
MCP_ENV=production
MCP_DEBUG=false
MCP_AUTO_RELOAD=false
MCP_LOG_LEVEL=warning
MCP_SAFE_MODE=true

# Production paths
MCP_SYSTEM_PATH=/home/mcpuser/.mcp-system
MCP_DATA_PATH=/var/lib/mcp-system
MCP_LOG_PATH=/var/log/mcp-system

# Pipeline Configuration
PIPELINE_MAX_SESSIONS=50
PIPELINE_SESSION_TIMEOUT=3600

# =============================================================================
# Security Settings
# =============================================================================
MCP_REQUIRE_AUTH=true
MCP_RATE_LIMIT=true
MCP_HTTPS_ONLY=true

# =============================================================================
# Monitoring Configuration
# =============================================================================
PROMETHEUS_ENABLED=true
PROMETHEUS_RETENTION=30d
METRICS_ENABLED=true
LOG_TO_SYSLOG=true

# Grafana Plugins
GRAFANA_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource

# =============================================================================
# Authentication (Legacy - use secrets instead!)
# =============================================================================
JWT_SECRET_KEY=your-production-jwt-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# Docker Registry Configuration
# =============================================================================
DOCKER_REGISTRY=your.registry.com
DOCKER_USERNAME=your_username
DOCKER_PASSWORD=your_password

# =============================================================================
# Backup Configuration
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# =============================================================================
# Load Balancer / Reverse Proxy
# =============================================================================
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# =============================================================================
# Performance Tuning
# =============================================================================
POSTGRES_MAX_CONNECTIONS=100

# =============================================================================
# Alerting Configuration (Optional)
# =============================================================================
ALERT_EMAIL=admin@yourdomain.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK